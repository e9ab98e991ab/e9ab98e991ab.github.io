<div class="detail lh2"><p>论企业应用系统的数据持久层架构设计<br/>数据持久层（Data Persistence Layer）通常位于企业应用系统的业务逻辑层和数据源层之间，为整个项目提供一个高层、统一、安全、并发的数据持久机制，完成对各种数据进行持久化的编程工作，并为系统业务逻辑层提供服务。它能够使程序员避免手工编写访问数据源的方法，使其专注于业务逻辑的开发，并且能够在不同项目中重用本框架，这大大简化了数据的增加、删除、修改、查询功能的开发过程，同时又不丧失多层结构的天然优势，继承延续应用系统架构的可伸缩性和可扩展性。当运用关系型数据库作为数据存储机制时，在业务层与数据源间加入数据持久层，能够解决对象与关系的“阻抗不匹配”问题，将对象的状态持久化存储到关系型数据库中。<br/></p><br/><br/><p>请围绕“企业应用系统的数据持久层架构设计”论题，依次从以下三方面进行论述。<br/>1．概要叙述你参与分析和设计的企业应用系统开发项目以及你所担任的主要工作。<br/>2．分析在企业应用系统的数据持久层架构设计中有哪些数据访问模式，并详细阐述每种数据访问模式的主要内容。<br/>3．数据持久层架构设计的好坏决定着应用程序性能的优劣，请结合实际说明在数据持久层架构设计中需要考虑哪些问题。<br/></p><br/><br/>答案<br/><p><br/></p><br/><br/>试题分析<br/><p>
一、简要描述所参与分析和设计的企业应用系统开发项目，并明确指出在其中承担的主要任务和开展的主要工作。<br/>
二、分析在企业应用系统的数据持久层架构设计中有哪些数据访问模式，并详细阐述每种数据访问模式的主要内容。<br/>
企业应用系统的数据持久层架构设计中主要有五种数据访问模式：<br/>
（1）在线访问（Online Access）。OA是最基本的数据访问模式，也是在实际开发过程中最常采用的。这种数据访问模式会占用一个数据库连接，读取数据，每个数据库操作都会通过这个连接不断地与后台的数据源进行交互。<br/>
（2）数据访问对象（Data Access Object）。DAO模式是标准的J2EE设计模式之一，开发人员常常用这种模式将底层数据访问操作与高层业务逻辑分离开。一个典型的DAO实现通常包括：一个DAO工程类；一个DAO接口；一个实现了DAO接口的具体类，包含访问特殊数据源中数据的逻辑；数据传输对象。<br/>
（3）数据传输对象（Data Transfer Object）。DTO是经典EJB设计模式之一，它本身是一组对象或者数据的容器，需要跨越不同的进程或者网络的边界来传输数据。对象本身应该不包含具体的业务逻辑，并且通常这些对象内部只能进行一些诸如内部一致性检查和基本验证之类的方法，而且这些方法最好不要再调用其他的对象行为。在具体实现DTO时，可以使用编程语言内置的集合对象，也可以通过创建自定义类来实现DTO对象。<br/>
（4）离线数据模型（Off-line Data Model）。ODM以数据为中心，数据从数据源获取之后，将按照某种预定义的结构存放在系统中，成为应用的中心。离线方式可以使得对数据的各种操作独立于各种与后台数据源之间的连接或者事务；通过与XML集成数据可以方便地与XML格式的文档之间相互转换；独立于数据源，ODM定义了数据的存储结构和规则。<br/>
（5）对象关系映射（Object Relational Mapping）。ORM是随着面向对象软件开发方法发展而产生的，面向对象开发方法是主流的开发方法，关系型数据库是企业级应用环境中永久存放数据的主流数据存储系统。对象和关系数据是业务实体的两种表现形式，业务实体在内存中表现为对象，在数据库中表现为关系数据。ORM一般以中间件的形式存在，能够帮助将应用程序中的数据转换成关系型数据库中的记录；或者将关系数据库中的记录转换成应用程序中便于操作的对象。<br/>
三、数据持久层架构设计的好坏决定着应用程序性能的优劣，无论在C/S，还是在B/S结构中，持久层在处理数据的同时，对服务器锁的类型和持续时间、输入输出活动量以及处理器负荷等产生主要影响，并由此影响应用程序的总体性能。在持久层设计阶段需要考虑的问题包括：网络流量问题；返回结果集的问题；查询或锁定超时的问题；应用程序开发工具的问题；使用游标的问题；应用层设计的问题等。</p></div>